# Use version 3.8 of the Docker Compose file format
version: '3.8'

# Define the services (containers) that make up your application
services:
  my-react-app:
    # Set the build context to the my-react-app directory.
    build:
      context: ./my-react-app
    # The container name helps with identification in Portainer and other Docker tools
    container_name: my-react-app-container
    # Map port 3028 on the host to port 80 in the container
    ports:
      - "3028:80"
    # Restart the container automatically if it crashes or the host reboots
    restart: unless-stopped

  fastapi-app:
    # Set the build context to the fastapi-app directory.
    build:
      context: ./fastapi-app
    # The container name helps with identification
    container_name: fastapi-app-container
    # Map port 3027 on the host to port 8000 in the container
    ports:
      - "3027:8000"
    # Restart the container
    restart: unless-stopped
