fastapi-backend:
  image: trealnyce/fastapi-backend:latest
  container_name: fastapi-backend
  environment:
    POSTGRES_USER: trealnyce
    POSTGRES_PASSWORD: Approved110$$
    POSTGRES_DB: photo_db
    DATABASE_URL: postgresql://trealnyce:Approved110$$@postgres-db:5432/photo_db
    API_KEY: '@It31c8My^a%b$v!' 
    NFS_MOUNT_PATH: /app/uploads
  networks:
    - trealnyce_app_network
    - internal-network
  ports:
    - "3027:8000"
  volumes:
    - photo-storage:/app/uploads
  depends_on:
    - database
  restart: unless-stopped